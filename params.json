{"name":"Xpr","tagline":"Object Oriented, Animation Oriented, Psychovisual Experiment Composition Layer for Psychtoolbox","body":"XPR\r\n===\r\n\r\nObject Oriented, Animation Oriented, Psychovisual Experiment Composition Layer for Psychtoolbox\r\n\r\nXPR is a toolkit for running psycho-visual experiments in Matlab. It's a layer that sits on top of Psychtoolbox. I designed XPR to be:\r\n\r\nObject Oriented\r\n---------------\r\nXPR is object oriented, easily comprehensible, and easily extensible.\r\n\r\nAnimation Oriented\r\n------------------\r\nXPR specifically eases coding of animations. It requires just one simple line to tell a rectangular countdown timer to shrink to nothing over the course of the following x seconds. Similarly, primitives can be told to smoothly enlarge, change color, move, etc., over a parameterized amount of time with a single function call.\r\n\r\nCross Platform\r\n--------------\r\nXPR maintains the cross-platform compatibility of Psychtoolbox.\r\n\r\n\r\nExamples\r\n========\r\n\r\nFor a complete example, see minimal_experiment.m. Included below are some excerpts.\r\n\r\nIn the following examples, we create an two-forced alternative choice task in which the subject is presented with a white disc in the center of the screen which is moving to either the left or the right. Subject is tasked to indicate the direction of movement with the arrow keys with three seconds of stimulation onset. A timer/points bar represents the points/time available to the subject as the task progresses.\r\n\r\nCreate a white circle stimuli, to be presented in the center of the screen, with a diameter of 1.5 visual degrees:\r\n\r\n```\r\n    stimuli.circle = xCirc('x', 0,...\r\n    'y', 0,...\r\n    'd', 1.5,...\r\n    'color', [240, 240, 240]);\r\n```\r\n\r\nCreate a timer/points bar:\r\n\r\n```\r\n    stimuli.pointBar = xPointBar('x', -5,...\r\n    'y', 0);\r\n```\r\nThis timer/points bar will be on the left center of the screen. By default, this bar will start off green and \"shrink\" until it runs out of time/points. Though our experiment does not contain a penalty phase, this bar would turn red and grow to indicate a growing point-penalty if instructed to.\r\n\r\nRegister names for the left and right arrow keys:\r\n```\r\n    response.leftKey = KbName('leftarrow');\r\n    response.rightKey = KbName('rightarrow');\r\n```\r\n\r\nNow the trial begins. We randomly choose a direction 'param.dir' of 1 or -1 and then set the scene as follows:\r\n\r\n```\r\n    stimuli.circle.setVis(true); % Make the circle visible\r\n    stimuli.circle.move('x', 0); % Return the circle to the center of the screen\r\n    \r\n    stimuli.circle.move('x', param.dir, 'interval', 3);\r\n    % Direct the circle to move one visual degree to the left or the right, according\r\n    % to the value of param.dir, over the course of three seconds\r\n    \r\n    stimuli.pointBar.setVis(true); % Set the points/timer bar to be visible\r\n    stimuli.pointBar.changePoints('points', 30); % Put 30 points on the pointbar.\r\n    \r\n    stimuli.pointBar.changePoints('points', 0, 'interval', 3); \r\n    % Direct the point/timer bar to shrink down to zero points over the course of\r\n    % three seconds.\r\n    \r\n    \r\n    [keys, keyTime] = xpr.animate(3, 'freeze', [response.leftKey response.rightKey]);\r\n    % We have instructed all of our objects where to move over the course of the\r\n    % next three seconds. That done, we animate the scene. This instruction says to\r\n    % animate our scene for three seconds, but to stop the animation if the subject\r\n    % hits either the left arrow or the right arrow.\r\n    \r\n    \r\n    points = floor(stimuli.pointBar.points);\r\n    % Record the number of points left on the pointBar when we froze the animation\r\n    \r\n    \r\n    stimuli.circle.setVis(false);\r\n    stimuli.pointBar.setVis(false);\r\n    % Hide the circle and the point bar in preparation for feedback delivery\r\n    \r\n```\r\n\r\nThen we would do some logic to figure out whether the subject provided a response, whether it was the correct response, and how many points we should award the subject. We might employ an xText object to display feedback, as done in minimal_experiment.m.\r\n\r\n\r\nGetting Started\r\n===============\r\n\r\nDownload, and place the XPR directory in your path.\r\n\r\nYou must have psychtoolbox to use XPR. XPR is a toolkit which executes the more basic functions of psychtoolbox.\r\n\r\n\r\nNotes\r\n=====\r\n\r\nI'm away from my Matlab environment, and until I regain it I might not be much help in fixing bugs or writing documentation. Right now, it will require an expert user to install and use XPR. Study minimal_experiment.m and the source code for inspiration.\r\n\r\nIf you have another framework for presenting stimuli, you can use both that framework and XPR in the same experiment, though not in the same frame.\r\n\r\nTo-Do\r\n=====\r\n\r\n* Better comments.\r\n* Going to rework the xObject animation queue. The interface and implementation of animation will change.\r\n* Documentation.\r\n* Tests\r\n\r\nGetting Involved\r\n================\r\n\r\nWays to get involved:\r\n\r\n* Writing scripts which demonstrate the animation capabilities of each object.\r\n* Writing documentation, if you understand the system.\r\n* Easing for animations.\r\n* Packaging, if there is some canonical way to package Matlab.\r\n* Comments on timing accuracy.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}